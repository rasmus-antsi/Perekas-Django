{% extends "base.html" %}

{% block title %}Shopping List · FamilyHub{% endblock %}

{% block content %}
<div class="main-inner">
    <header class="shopping-header">
        <div>
            <h1 class="shopping-title">Shopping List</h1>
            <p class="shopping-subtitle">
                {{ to_buy_items|length }} items to buy, {{ in_cart_items|length }} in cart
            </p>
        </div>
        <div class="badge">
            {{ family_name|default:"Family Account" }}
        </div>
    </header>

    <section class="shopping-toolbar">
        <input type="text" placeholder="Add new item..." aria-label="New item name">
        <button class="btn-primary">+ Add</button>
    </section>

    <section class="shopping-columns">
        <div class="shopping-section">
            <div class="section-title">
                <svg class="section-icon section-icon--cart" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                    <path d="M3 4h2l2 12h9.5a1 1 0 0 0 .97-.76l1.53-6.12A1 1 0 0 0 18.03 8H6.1" />
                    <circle cx="9.5" cy="18" r="1.2" />
                    <circle cx="16.5" cy="18" r="1.2" />
                </svg>
                <span>Need to Buy</span>
            </div>
            <div class="shopping-list">
                {% for item in to_buy_items %}
                    <article class="shopping-item">
                        <div class="shopping-item__left">
                            <span class="status-dot" aria-hidden="true"></span>
                            <div class="shopping-item__info">
                                <span class="shopping-item__name">{{ item.name }}</span>
                                <span class="shopping-item__meta">Added by {{ item.added_by }}</span>
                            </div>
                        </div>
                        <button class="icon-button icon-button--remove" aria-label="Remove item">×</button>
                    </article>
                {% empty %}
                    <p class="shopping-item__meta">All caught up! Add something new above.</p>
                {% endfor %}
            </div>
        </div>

        <div class="shopping-section in-cart">
            <div class="section-title">
                <svg class="section-icon section-icon--checklist" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                    <path d="M5 5h6M5 9h6M5 13h6" />
                    <path d="m14 9 2 2 4-4" />
                    <path d="m14 17 2 2 4-4" />
                </svg>
                <span>In Cart</span>
            </div>
            <div class="shopping-list">
                {% for item in in_cart_items %}
                    <article class="shopping-item in-cart">
                        <div class="shopping-item__left">
                            <span class="status-dot status-dot--done" aria-hidden="true"></span>
                            <div class="shopping-item__info">
                                <span class="shopping-item__name">{{ item.name }}</span>
                                <span class="shopping-item__meta">Added by {{ item.added_by }}</span>
                            </div>
                        </div>
                        <button class="icon-button icon-button--remove" aria-label="Remove item">×</button>
                    </article>
                {% empty %}
                    <p class="shopping-item__meta">Nothing in the cart yet.</p>
                {% endfor %}
            </div>
        </div>
    </section>
</div>
{% endblock %}
