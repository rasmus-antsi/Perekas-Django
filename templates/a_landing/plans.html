{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FamilyHub Plans</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap"
      rel="stylesheet"
    >
    <link rel="stylesheet" href="{% static 'styles.css' %}?v={{ timestamp }}">
  </head>
  <body class="landing-body">
    <div class="landing-background"></div>
    
    <header class="landing-nav">
      <a href="{% url 'a_landing:landing_index' %}" class="landing-brand">
        <span class="landing-logo">FH</span>
        <div>
          <span class="landing-brand-title">FamilyHub</span>
          <span class="landing-brand-tagline">Together Daily</span>
        </div>
      </a>
      <nav class="landing-nav-links">
        <a href="{% url 'a_landing:landing_index' %}">Home</a>
        <a href="{% url 'a_landing:features' %}">Features</a>
        <a href="{% url 'a_landing:about' %}">About</a>
        <a class="active" href="{% url 'a_landing:plans' %}">Plans</a>
      </nav>
      <div class="landing-nav-actions">
        <a class="landing-link" href="{% url 'account_login' %}">Log in</a>
        <a class="landing-button primary" href="{% url 'account_signup' %}">Get Started</a>
      </div>
      <button class="landing-nav-toggle" aria-label="Toggle menu">
        <span aria-hidden="true"></span>
      </button>
    </header>

    <!-- Mobile Menu Overlay -->
    <div class="mobile-menu-overlay" id="mobileMenuOverlay">
      <div class="mobile-menu-sidebar">
        <div class="mobile-menu-header">
          <a href="{% url 'a_landing:landing_index' %}" class="landing-brand">
            <span class="landing-logo">FH</span>
            <div>
              <span class="landing-brand-title">FamilyHub</span>
              <span class="landing-brand-tagline">Together Daily</span>
            </div>
          </a>
          <button class="mobile-menu-close" aria-label="Close menu">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <line x1="18" y1="6" x2="6" y2="18"></line>
              <line x1="6" y1="6" x2="18" y2="18"></line>
            </svg>
          </button>
        </div>
        <nav class="mobile-menu-links">
          <a href="{% url 'a_landing:landing_index' %}">Home</a>
          <a href="{% url 'a_landing:features' %}">Features</a>
          <a href="{% url 'a_landing:about' %}">About</a>
          <a class="active" href="{% url 'a_landing:plans' %}">Plans</a>
        </nav>
        <div class="mobile-menu-separator"></div>
        <div class="mobile-menu-actions">
          <a class="mobile-menu-login" href="{% url 'account_login' %}">Log in</a>
          <a class="landing-button primary mobile-menu-cta" href="{% url 'account_signup' %}">Get Started</a>
        </div>
      </div>
    </div>

    <main class="landing-main">
      <section class="section-minimal">
        <div class="section-header-minimal scroll-fade-in">
          <span class="section-eyebrow-minimal">Flexible pricing</span>
          <h1>Plans for every rhythm of family life</h1>
          <p>Start free and grow into advanced automations, insights, and priority celebration tools.</p>
        </div>
      </section>

      <section class="section-minimal">
        <div class="plans-layout">
          <div class="plans-top-row">
            <article class="plan-card plan-featured scroll-scale scroll-delay-1">
              <h2>STARTER</h2>
              <p class="plan-price">$9.99<span>/m</span></p>
              <ul>
                <li>2 parents</li>
                <li>2 children</li>
                <li>20 tasks per month</li>
                <li>15 rewards per month</li>
                <li>Shopping list access</li>
              </ul>
              <a class="landing-button primary" href="{% url 'account_signup' %}">Get Started</a>
            </article>

            <article class="plan-card scroll-scale scroll-delay-2">
              <h2>PRO</h2>
              <p class="plan-price">$19.99<span>/m</span></p>
              <ul>
                <li>4 parents</li>
                <li>10 children</li>
                <li>100 tasks per month</li>
                <li>50 rewards per month</li>
                <li>Shopping list access</li>
              </ul>
              <a class="landing-button secondary" href="{% url 'account_signup' %}">Get Started</a>
            </article>
          </div>

          <div class="plan-free-wrapper scroll-scale scroll-delay-3">
            <article class="plan-card plan-free">
              <h2>FREE</h2>
              <ul>
                <li>1 parent</li>
                <li>1 child</li>
                <li>5 tasks per month</li>
                <li>3 rewards per month</li>
                <li class="no-access">No shopping list access</li>
              </ul>
              <a class="landing-button secondary" href="{% url 'account_signup' %}">Get Started</a>
            </article>
          </div>
        </div>
      </section>

      <section class="section-minimal">
        <div class="section-header-minimal scroll-fade-in">
          <span class="section-eyebrow-minimal">Feature matrix</span>
          <h2>Compare features side by side</h2>
        </div>
        <div class="comparison-table scroll-slide-up">
          <div class="comparison-row header">
            <span>Included features</span>
            <span>FREE</span>
            <span>STARTER</span>
            <span>PRO</span>
          </div>
          <div class="comparison-row">
            <span>Parents</span>
            <span data-plan="FREE">1</span>
            <span data-plan="STARTER">2</span>
            <span data-plan="PRO">4</span>
          </div>
          <div class="comparison-row">
            <span>Children</span>
            <span data-plan="FREE">1</span>
            <span data-plan="STARTER">2</span>
            <span data-plan="PRO">10</span>
          </div>
          <div class="comparison-row">
            <span>Tasks per month</span>
            <span data-plan="FREE">5</span>
            <span data-plan="STARTER">20</span>
            <span data-plan="PRO">100</span>
          </div>
          <div class="comparison-row">
            <span>Rewards per month</span>
            <span data-plan="FREE">3</span>
            <span data-plan="STARTER">15</span>
            <span data-plan="PRO">50</span>
          </div>
          <div class="comparison-row">
            <span>Shopping list access</span>
            <span data-plan="FREE" class="no-access">—</span>
            <span data-plan="STARTER" class="has-access">✔︎</span>
            <span data-plan="PRO" class="has-access">✔︎</span>
          </div>
        </div>
      </section>

      <section class="section-minimal">
        <div class="section-header-minimal scroll-fade-in">
          <span class="section-eyebrow-minimal">FAQ</span>
          <h2>Frequently asked questions</h2>
          <p>Need a hand deciding? Here are the top questions families ask.</p>
        </div>
        <div class="faq-grid scroll-slide-up">
          <details open>
            <summary>Can we change plans at any time?</summary>
            <p>Absolutely. Upgrade, downgrade, or cancel whenever you need—your data stays safe.</p>
          </details>
          <details>
            <summary>Is STARTER available annually?</summary>
            <p>Yes, save 15% with annual billing. Switch in your account settings after signup.</p>
          </details>
          <details>
            <summary>Do you offer nonprofit or school pricing?</summary>
            <p>We love working with community organisations. Reach out and we’ll tailor a plan.</p>
          </details>
        </div>
      </section>
    </main>

    <footer class="landing-footer">
      <div class="landing-footer-links">
        <a href="{% url 'a_landing:landing_index' %}">Home</a>
        <a href="{% url 'a_landing:features' %}">Features</a>
        <a href="{% url 'a_landing:about' %}">About</a>
        <a href="{% url 'a_landing:plans' %}">Plans</a>
        <a href="mailto:hello@familyhub.app">Support</a>
      </div>
      <p>© {% now "Y" %} FamilyHub. All rights reserved.</p>
    </footer>

    <script>
      const toggle = document.querySelector('.landing-nav-toggle');
      const mobileMenuOverlay = document.getElementById('mobileMenuOverlay');
      const mobileMenuClose = document.querySelector('.mobile-menu-close');
      
      if (toggle && mobileMenuOverlay) {
        toggle.addEventListener('click', () => {
          mobileMenuOverlay.classList.add('active');
          document.body.style.overflow = 'hidden';
        });
      }
      
      function closeMobileMenu() {
        if (mobileMenuOverlay) {
          mobileMenuOverlay.classList.remove('active');
          document.body.style.overflow = '';
        }
      }
      
      if (mobileMenuClose) {
        mobileMenuClose.addEventListener('click', closeMobileMenu);
      }
      
      if (mobileMenuOverlay) {
        mobileMenuOverlay.addEventListener('click', (e) => {
          if (e.target === mobileMenuOverlay) {
            closeMobileMenu();
          }
        });
      }
      
      // Close menu when clicking on a link
      const mobileMenuLinks = document.querySelectorAll('.mobile-menu-links a, .mobile-menu-actions a');
      mobileMenuLinks.forEach(link => {
        link.addEventListener('click', () => {
          setTimeout(closeMobileMenu, 100);
        });
      });

      // Scroll animations with Intersection Observer
      const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
      };

      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('visible');
          }
        });
      }, observerOptions);

      document.querySelectorAll('.scroll-fade-in, .scroll-scale, .scroll-slide-up').forEach(el => {
        observer.observe(el);
      });
    </script>
  </body>
</html>
